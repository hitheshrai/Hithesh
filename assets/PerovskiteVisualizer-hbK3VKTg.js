import{r as v,u as Y,a as We,j as a,C as qe}from"./react-three-fiber--_Lp6p7p.js";import{Q as Ae,P as le,f as T,O as ce,j as Le,g as M,k as H,l as Z,m as $e,n as Qe,o as Je,E as et}from"./three-BiqKN6eP.js";function de(){return de=Object.assign?Object.assign.bind():function(d){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var e in l)({}).hasOwnProperty.call(l,e)&&(d[e]=l[e])}return d},de.apply(null,arguments)}var tt=Object.defineProperty,nt=(d,o,l)=>o in d?tt(d,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[o]=l,ot=(d,o,l)=>(nt(d,o+"",l),l);class st{constructor(){ot(this,"_listeners")}addEventListener(o,l){this._listeners===void 0&&(this._listeners={});const e=this._listeners;e[o]===void 0&&(e[o]=[]),e[o].indexOf(l)===-1&&e[o].push(l)}hasEventListener(o,l){if(this._listeners===void 0)return!1;const e=this._listeners;return e[o]!==void 0&&e[o].indexOf(l)!==-1}removeEventListener(o,l){if(this._listeners===void 0)return;const x=this._listeners[o];if(x!==void 0){const b=x.indexOf(l);b!==-1&&x.splice(b,1)}}dispatchEvent(o){if(this._listeners===void 0)return;const e=this._listeners[o.type];if(e!==void 0){o.target=this;const x=e.slice(0);for(let b=0,i=x.length;b<i;b++)x[b].call(this,o);o.target=null}}}var at=Object.defineProperty,it=(d,o,l)=>o in d?at(d,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[o]=l,s=(d,o,l)=>(it(d,typeof o!="symbol"?o+"":o,l),l);const ee=new $e,Ne=new Qe,rt=Math.cos(70*(Math.PI/180)),De=(d,o)=>(d%o+o)%o;let lt=class extends st{constructor(o,l){super(),s(this,"object"),s(this,"domElement"),s(this,"enabled",!0),s(this,"target",new T),s(this,"minDistance",0),s(this,"maxDistance",1/0),s(this,"minZoom",0),s(this,"maxZoom",1/0),s(this,"minPolarAngle",0),s(this,"maxPolarAngle",Math.PI),s(this,"minAzimuthAngle",-1/0),s(this,"maxAzimuthAngle",1/0),s(this,"enableDamping",!1),s(this,"dampingFactor",.05),s(this,"enableZoom",!0),s(this,"zoomSpeed",1),s(this,"enableRotate",!0),s(this,"rotateSpeed",1),s(this,"enablePan",!0),s(this,"panSpeed",1),s(this,"screenSpacePanning",!0),s(this,"keyPanSpeed",7),s(this,"zoomToCursor",!1),s(this,"autoRotate",!1),s(this,"autoRotateSpeed",2),s(this,"reverseOrbit",!1),s(this,"reverseHorizontalOrbit",!1),s(this,"reverseVerticalOrbit",!1),s(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),s(this,"mouseButtons",{LEFT:H.ROTATE,MIDDLE:H.DOLLY,RIGHT:H.PAN}),s(this,"touches",{ONE:Z.ROTATE,TWO:Z.DOLLY_PAN}),s(this,"target0"),s(this,"position0"),s(this,"zoom0"),s(this,"_domElementKeyEvents",null),s(this,"getPolarAngle"),s(this,"getAzimuthalAngle"),s(this,"setPolarAngle"),s(this,"setAzimuthalAngle"),s(this,"getDistance"),s(this,"getZoomScale"),s(this,"listenToKeyEvents"),s(this,"stopListenToKeyEvents"),s(this,"saveState"),s(this,"reset"),s(this,"update"),s(this,"connect"),s(this,"dispose"),s(this,"dollyIn"),s(this,"dollyOut"),s(this,"getScale"),s(this,"setScale"),this.object=o,this.domElement=l,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=t=>{let n=De(t,2*Math.PI),r=m.phi;r<0&&(r+=2*Math.PI),n<0&&(n+=2*Math.PI);let h=Math.abs(n-r);2*Math.PI-h<h&&(n<r?n+=2*Math.PI:r+=2*Math.PI),E.phi=n-r,e.update()},this.setAzimuthalAngle=t=>{let n=De(t,2*Math.PI),r=m.theta;r<0&&(r+=2*Math.PI),n<0&&(n+=2*Math.PI);let h=Math.abs(n-r);2*Math.PI-h<h&&(n<r?n+=2*Math.PI:r+=2*Math.PI),E.theta=n-r,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=t=>{t.addEventListener("keydown",ie),this._domElementKeyEvents=t},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ie),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(x),e.update(),u=c.NONE},this.update=(()=>{const t=new T,n=new T(0,1,0),r=new Ae().setFromUnitVectors(o.up,n),h=r.clone().invert(),j=new T,I=new Ae,X=2*Math.PI;return function(){const Me=e.object.position;r.setFromUnitVectors(o.up,n),h.copy(r).invert(),t.copy(Me).sub(e.target),t.applyQuaternion(r),m.setFromVector3(t),e.autoRotate&&u===c.NONE&&te(Se()),e.enableDamping?(m.theta+=E.theta*e.dampingFactor,m.phi+=E.phi*e.dampingFactor):(m.theta+=E.theta,m.phi+=E.phi);let R=e.minAzimuthAngle,z=e.maxAzimuthAngle;isFinite(R)&&isFinite(z)&&(R<-Math.PI?R+=X:R>Math.PI&&(R-=X),z<-Math.PI?z+=X:z>Math.PI&&(z-=X),R<=z?m.theta=Math.max(R,Math.min(z,m.theta)):m.theta=m.theta>(R+z)/2?Math.max(R,m.theta):Math.min(z,m.theta)),m.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,m.phi)),m.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(A,e.dampingFactor):e.target.add(A),e.zoomToCursor&&N||e.object.isOrthographicCamera?m.radius=se(m.radius):m.radius=se(m.radius*P),t.setFromSpherical(m),t.applyQuaternion(h),Me.copy(e.target).add(t),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(E.theta*=1-e.dampingFactor,E.phi*=1-e.dampingFactor,A.multiplyScalar(1-e.dampingFactor)):(E.set(0,0,0),A.set(0,0,0));let G=!1;if(e.zoomToCursor&&N){let V=null;if(e.object instanceof le&&e.object.isPerspectiveCamera){const W=t.length();V=se(W*P);const J=W-V;e.object.position.addScaledVector(B,J),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const W=new T(O.x,O.y,0);W.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/P)),e.object.updateProjectionMatrix(),G=!0;const J=new T(O.x,O.y,0);J.unproject(e.object),e.object.position.sub(J).add(W),e.object.updateMatrixWorld(),V=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;V!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(V).add(e.object.position):(ee.origin.copy(e.object.position),ee.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(ee.direction))<rt?o.lookAt(e.target):(Ne.setFromNormalAndCoplanarPoint(e.object.up,e.target),ee.intersectPlane(Ne,e.target))))}else e.object instanceof ce&&e.object.isOrthographicCamera&&(G=P!==1,G&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/P)),e.object.updateProjectionMatrix()));return P=1,N=!1,G||j.distanceToSquared(e.object.position)>D||8*(1-I.dot(e.object.quaternion))>D?(e.dispatchEvent(x),j.copy(e.object.position),I.copy(e.object.quaternion),G=!1,!0):!1}})(),this.connect=t=>{e.domElement=t,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",Oe),e.domElement.addEventListener("pointerdown",ve),e.domElement.addEventListener("pointercancel",K),e.domElement.addEventListener("wheel",we)},this.dispose=()=>{var t,n,r,h,j,I;e.domElement&&(e.domElement.style.touchAction="auto"),(t=e.domElement)==null||t.removeEventListener("contextmenu",Oe),(n=e.domElement)==null||n.removeEventListener("pointerdown",ve),(r=e.domElement)==null||r.removeEventListener("pointercancel",K),(h=e.domElement)==null||h.removeEventListener("wheel",we),(j=e.domElement)==null||j.ownerDocument.removeEventListener("pointermove",ae),(I=e.domElement)==null||I.ownerDocument.removeEventListener("pointerup",K),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",ie)};const e=this,x={type:"change"},b={type:"start"},i={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let u=c.NONE;const D=1e-6,m=new Le,E=new Le;let P=1;const A=new T,y=new M,w=new M,S=new M,_=new M,C=new M,k=new M,L=new M,g=new M,f=new M,B=new T,O=new M;let N=!1;const p=[],$={};function Se(){return 2*Math.PI/60/60*e.autoRotateSpeed}function U(){return Math.pow(.95,e.zoomSpeed)}function te(t){e.reverseOrbit||e.reverseHorizontalOrbit?E.theta+=t:E.theta-=t}function ue(t){e.reverseOrbit||e.reverseVerticalOrbit?E.phi+=t:E.phi-=t}const he=(()=>{const t=new T;return function(r,h){t.setFromMatrixColumn(h,0),t.multiplyScalar(-r),A.add(t)}})(),me=(()=>{const t=new T;return function(r,h){e.screenSpacePanning===!0?t.setFromMatrixColumn(h,1):(t.setFromMatrixColumn(h,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(r),A.add(t)}})(),F=(()=>{const t=new T;return function(r,h){const j=e.domElement;if(j&&e.object instanceof le&&e.object.isPerspectiveCamera){const I=e.object.position;t.copy(I).sub(e.target);let X=t.length();X*=Math.tan(e.object.fov/2*Math.PI/180),he(2*r*X/j.clientHeight,e.object.matrix),me(2*h*X/j.clientHeight,e.object.matrix)}else j&&e.object instanceof ce&&e.object.isOrthographicCamera?(he(r*(e.object.right-e.object.left)/e.object.zoom/j.clientWidth,e.object.matrix),me(h*(e.object.top-e.object.bottom)/e.object.zoom/j.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function ne(t){e.object instanceof le&&e.object.isPerspectiveCamera||e.object instanceof ce&&e.object.isOrthographicCamera?P=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Q(t){ne(P/t)}function oe(t){ne(P*t)}function pe(t){if(!e.zoomToCursor||!e.domElement)return;N=!0;const n=e.domElement.getBoundingClientRect(),r=t.clientX-n.left,h=t.clientY-n.top,j=n.width,I=n.height;O.x=r/j*2-1,O.y=-(h/I)*2+1,B.set(O.x,O.y,1).unproject(e.object).sub(e.object.position).normalize()}function se(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function fe(t){y.set(t.clientX,t.clientY)}function _e(t){pe(t),L.set(t.clientX,t.clientY)}function be(t){_.set(t.clientX,t.clientY)}function Ce(t){w.set(t.clientX,t.clientY),S.subVectors(w,y).multiplyScalar(e.rotateSpeed);const n=e.domElement;n&&(te(2*Math.PI*S.x/n.clientHeight),ue(2*Math.PI*S.y/n.clientHeight)),y.copy(w),e.update()}function ke(t){g.set(t.clientX,t.clientY),f.subVectors(g,L),f.y>0?Q(U()):f.y<0&&oe(U()),L.copy(g),e.update()}function Ie(t){C.set(t.clientX,t.clientY),k.subVectors(C,_).multiplyScalar(e.panSpeed),F(k.x,k.y),_.copy(C),e.update()}function Re(t){pe(t),t.deltaY<0?oe(U()):t.deltaY>0&&Q(U()),e.update()}function ze(t){let n=!1;switch(t.code){case e.keys.UP:F(0,e.keyPanSpeed),n=!0;break;case e.keys.BOTTOM:F(0,-e.keyPanSpeed),n=!0;break;case e.keys.LEFT:F(e.keyPanSpeed,0),n=!0;break;case e.keys.RIGHT:F(-e.keyPanSpeed,0),n=!0;break}n&&(t.preventDefault(),e.update())}function ge(){if(p.length==1)y.set(p[0].pageX,p[0].pageY);else{const t=.5*(p[0].pageX+p[1].pageX),n=.5*(p[0].pageY+p[1].pageY);y.set(t,n)}}function xe(){if(p.length==1)_.set(p[0].pageX,p[0].pageY);else{const t=.5*(p[0].pageX+p[1].pageX),n=.5*(p[0].pageY+p[1].pageY);_.set(t,n)}}function Ee(){const t=p[0].pageX-p[1].pageX,n=p[0].pageY-p[1].pageY,r=Math.sqrt(t*t+n*n);L.set(0,r)}function Ye(){e.enableZoom&&Ee(),e.enablePan&&xe()}function Xe(){e.enableZoom&&Ee(),e.enableRotate&&ge()}function ye(t){if(p.length==1)w.set(t.pageX,t.pageY);else{const r=re(t),h=.5*(t.pageX+r.x),j=.5*(t.pageY+r.y);w.set(h,j)}S.subVectors(w,y).multiplyScalar(e.rotateSpeed);const n=e.domElement;n&&(te(2*Math.PI*S.x/n.clientHeight),ue(2*Math.PI*S.y/n.clientHeight)),y.copy(w)}function je(t){if(p.length==1)C.set(t.pageX,t.pageY);else{const n=re(t),r=.5*(t.pageX+n.x),h=.5*(t.pageY+n.y);C.set(r,h)}k.subVectors(C,_).multiplyScalar(e.panSpeed),F(k.x,k.y),_.copy(C)}function Pe(t){const n=re(t),r=t.pageX-n.x,h=t.pageY-n.y,j=Math.sqrt(r*r+h*h);g.set(0,j),f.set(0,Math.pow(g.y/L.y,e.zoomSpeed)),Q(f.y),L.copy(g)}function Ue(t){e.enableZoom&&Pe(t),e.enablePan&&je(t)}function Fe(t){e.enableZoom&&Pe(t),e.enableRotate&&ye(t)}function ve(t){var n,r;e.enabled!==!1&&(p.length===0&&((n=e.domElement)==null||n.ownerDocument.addEventListener("pointermove",ae),(r=e.domElement)==null||r.ownerDocument.addEventListener("pointerup",K)),Ge(t),t.pointerType==="touch"?Be(t):He(t))}function ae(t){e.enabled!==!1&&(t.pointerType==="touch"?Ke(t):Ze(t))}function K(t){var n,r,h;Ve(t),p.length===0&&((n=e.domElement)==null||n.releasePointerCapture(t.pointerId),(r=e.domElement)==null||r.ownerDocument.removeEventListener("pointermove",ae),(h=e.domElement)==null||h.ownerDocument.removeEventListener("pointerup",K)),e.dispatchEvent(i),u=c.NONE}function He(t){let n;switch(t.button){case 0:n=e.mouseButtons.LEFT;break;case 1:n=e.mouseButtons.MIDDLE;break;case 2:n=e.mouseButtons.RIGHT;break;default:n=-1}switch(n){case H.DOLLY:if(e.enableZoom===!1)return;_e(t),u=c.DOLLY;break;case H.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;be(t),u=c.PAN}else{if(e.enableRotate===!1)return;fe(t),u=c.ROTATE}break;case H.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;fe(t),u=c.ROTATE}else{if(e.enablePan===!1)return;be(t),u=c.PAN}break;default:u=c.NONE}u!==c.NONE&&e.dispatchEvent(b)}function Ze(t){if(e.enabled!==!1)switch(u){case c.ROTATE:if(e.enableRotate===!1)return;Ce(t);break;case c.DOLLY:if(e.enableZoom===!1)return;ke(t);break;case c.PAN:if(e.enablePan===!1)return;Ie(t);break}}function we(t){e.enabled===!1||e.enableZoom===!1||u!==c.NONE&&u!==c.ROTATE||(t.preventDefault(),e.dispatchEvent(b),Re(t),e.dispatchEvent(i))}function ie(t){e.enabled===!1||e.enablePan===!1||ze(t)}function Be(t){switch(Te(t),p.length){case 1:switch(e.touches.ONE){case Z.ROTATE:if(e.enableRotate===!1)return;ge(),u=c.TOUCH_ROTATE;break;case Z.PAN:if(e.enablePan===!1)return;xe(),u=c.TOUCH_PAN;break;default:u=c.NONE}break;case 2:switch(e.touches.TWO){case Z.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ye(),u=c.TOUCH_DOLLY_PAN;break;case Z.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Xe(),u=c.TOUCH_DOLLY_ROTATE;break;default:u=c.NONE}break;default:u=c.NONE}u!==c.NONE&&e.dispatchEvent(b)}function Ke(t){switch(Te(t),u){case c.TOUCH_ROTATE:if(e.enableRotate===!1)return;ye(t),e.update();break;case c.TOUCH_PAN:if(e.enablePan===!1)return;je(t),e.update();break;case c.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ue(t),e.update();break;case c.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Fe(t),e.update();break;default:u=c.NONE}}function Oe(t){e.enabled!==!1&&t.preventDefault()}function Ge(t){p.push(t)}function Ve(t){delete $[t.pointerId];for(let n=0;n<p.length;n++)if(p[n].pointerId==t.pointerId){p.splice(n,1);return}}function Te(t){let n=$[t.pointerId];n===void 0&&(n=new M,$[t.pointerId]=n),n.set(t.pageX,t.pageY)}function re(t){const n=t.pointerId===p[0].pointerId?p[1]:p[0];return $[n.pointerId]}this.dollyIn=(t=U())=>{oe(t),e.update()},this.dollyOut=(t=U())=>{Q(t),e.update()},this.getScale=()=>P,this.setScale=t=>{ne(t),e.update()},this.getZoomScale=()=>U(),l!==void 0&&this.connect(l),this.update()}};const ct=v.forwardRef(({makeDefault:d,camera:o,regress:l,domElement:e,enableDamping:x=!0,keyEvents:b=!1,onChange:i,onStart:c,onEnd:u,...D},m)=>{const E=Y(f=>f.invalidate),P=Y(f=>f.camera),A=Y(f=>f.gl),y=Y(f=>f.events),w=Y(f=>f.setEvents),S=Y(f=>f.set),_=Y(f=>f.get),C=Y(f=>f.performance),k=o||P,L=e||y.connected||A.domElement,g=v.useMemo(()=>new lt(k),[k]);return We(()=>{g.enabled&&g.update()},-1),v.useEffect(()=>(b&&g.connect(b===!0?L:b),g.connect(L),()=>void g.dispose()),[b,L,l,g,E]),v.useEffect(()=>{const f=N=>{E(),l&&C.regress(),i&&i(N)},B=N=>{c&&c(N)},O=N=>{u&&u(N)};return g.addEventListener("change",f),g.addEventListener("start",B),g.addEventListener("end",O),()=>{g.removeEventListener("start",B),g.removeEventListener("end",O),g.removeEventListener("change",f)}},[i,c,u,g,E,w]),v.useEffect(()=>{if(d){const f=_().controls;return S({controls:g}),()=>S({controls:f})}},[d,g]),v.createElement("primitive",de({ref:m,object:g,enableDamping:x},D))});function dt({a:d,showBonds:o,atomSizes:l}){const{cornerPositions:e,facePositions:x,edgeGeometry:b}=v.useMemo(()=>{const i=d/2,c=[[-i,-i,-i],[+i,-i,-i],[-i,+i,-i],[+i,+i,-i],[-i,-i,+i],[+i,-i,+i],[-i,+i,+i],[+i,+i,+i]],u=[[0,-i,0],[0,+i,0],[-i,0,0],[+i,0,0],[0,0,-i],[0,0,+i]],D=new Je(d,d,d),m=new et(D);return D.dispose(),{cornerPositions:c,facePositions:u,edgeGeometry:m}},[d]);return a.jsxs("group",{children:[e.map((i,c)=>a.jsxs("mesh",{position:i,children:[a.jsx("sphereGeometry",{args:[l.A,24,24]}),a.jsx("meshStandardMaterial",{color:"#f5d300",roughness:.3,metalness:.2})]},"A"+c)),a.jsxs("mesh",{position:[0,0,0],children:[a.jsx("sphereGeometry",{args:[l.B,32,32]}),a.jsx("meshStandardMaterial",{color:"#9b59b6",roughness:.3,metalness:.3})]}),x.map((i,c)=>a.jsxs("mesh",{position:i,children:[a.jsx("sphereGeometry",{args:[l.X,20,20]}),a.jsx("meshStandardMaterial",{color:"#4aa3df",roughness:.4,metalness:.1})]},"X"+c)),o&&a.jsx("lineSegments",{geometry:b,children:a.jsx("lineBasicMaterial",{color:"#94a3b8",transparent:!0,opacity:.6})})]})}function ut({triggerRef:d}){const{gl:o,scene:l,camera:e}=Y();return d.current=v.useCallback(()=>{o.render(l,e);const x=o.domElement.toDataURL("image/png"),b=document.createElement("a");b.download="perovskite-unit-cell.png",b.href=x,b.click()},[o,l,e]),null}function q({label:d,value:o,min:l,max:e,step:x,onChange:b,display:i}){return a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[a.jsx("span",{children:d}),a.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:i??o.toFixed(2)})]}),a.jsx("input",{type:"range",min:l,max:e,step:x,value:o,onChange:c=>b(Number(c.target.value)),className:"w-full accent-violet-500"})]})}function bt(){const[d,o]=v.useState(4),[l,e]=v.useState(!0),[x,b]=v.useState(.25),[i,c]=v.useState(.35),[u,D]=v.useState(.18),[m,E]=v.useState(.6),P=v.useRef(null),A=()=>{var y;(y=P.current)==null||y.call(P)};return a.jsxs("div",{className:"rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium",children:"Perovskite unit-cell visualizer"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 max-w-xl",children:"Interactive ABX₃ unit cell — adjust lattice parameter to explore strain effects, toggle bonds, and tune atom radii. Drag to orbit. Export captures the current view."}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:["ABX₃","Lattice","Strain","Export"].map(y=>a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-slate-100 dark:bg-slate-800",children:y},y))})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Lattice (Å)"}),a.jsxs("div",{className:"text-lg font-semibold",children:[d.toFixed(2)," Å"]}),a.jsx("button",{onClick:A,className:"inline-flex items-center gap-2 px-3 py-2 bg-violet-600 text-white rounded-md text-sm hover:bg-violet-700 transition-colors",children:"Export PNG"})]})]}),a.jsx("div",{className:"mt-4 h-[380px] w-full rounded bg-slate-950",children:a.jsxs(qe,{camera:{position:[6,6,6],fov:45},gl:{preserveDrawingBuffer:!0},children:[a.jsx("ambientLight",{intensity:m}),a.jsx("directionalLight",{position:[10,10,5],intensity:.8}),a.jsx("pointLight",{position:[-10,-10,-10],intensity:.4}),a.jsx("axesHelper",{args:[2]}),a.jsx(ct,{enablePan:!1}),a.jsx(dt,{a:d,showBonds:l,atomSizes:{A:x,B:i,X:u}}),a.jsx(ut,{triggerRef:P})]})}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-3",children:[a.jsx(q,{label:"Lattice parameter (Å)",value:d,min:3,max:6.5,step:.05,onChange:o,display:`${d.toFixed(2)} Å`}),a.jsx(q,{label:"A-site radius",value:x,min:.1,max:.5,step:.01,onChange:b}),a.jsx(q,{label:"B-site radius",value:i,min:.1,max:.5,step:.01,onChange:c}),a.jsx(q,{label:"X-site radius",value:u,min:.05,max:.4,step:.01,onChange:D}),a.jsx(q,{label:"Ambient light",value:m,min:.1,max:1.5,step:.05,onChange:E}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Show cell edges"}),a.jsx("button",{onClick:()=>e(y=>!y),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${l?"bg-violet-500":"bg-slate-300 dark:bg-slate-700"}`,"aria-pressed":l,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${l?"translate-x-4":"translate-x-0.5"}`})})]})]}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-4 text-xs text-slate-600 dark:text-slate-300",children:[{color:"#f5d300",label:"A-site (e.g. Cs⁺)"},{color:"#9b59b6",label:"B-site (e.g. Pb²⁺)"},{color:"#4aa3df",label:"X-site (halide)"}].map(({color:y,label:w})=>a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{backgroundColor:y}}),w]},w))})]})}export{bt as default};
